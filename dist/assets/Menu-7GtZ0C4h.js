import{a as l,j as s,c as m,r as c,L as x,P as p}from"./index-CiAhZf8W.js";const{Axios:O,AxiosError:g,CanceledError:D,isCancel:J,CancelToken:V,VERSION:X,all:z,Cancel:B,isAxiosError:G,spread:K,toFormData:Q,AxiosHeaders:U,HttpStatusCode:W,formToJSON:Y,getAdapter:Z,mergeConfig:ss}=l,j="_h1_1poq6_1",f={h1:j},N=({children:e,className:t,...n})=>s.jsx("h1",{className:m(t,f.h1),...n,children:e}),v="_input_1cn0t_1",y="_icon_1cn0t_20",d={input:v,"input-wrapper":"_input-wrapper_1cn0t_16",icon:y},q=c.forwardRef(function({isValid:t=!0,className:n,...i},o){return s.jsxs("div",{className:d["input-wrapper"],children:[s.jsx("input",{ref:o,className:m(d.input,n,{[d.invalid]:t}),...i}),s.jsx("img",{className:d.icon,src:"/search-icon.svg",alt:"Иконка поиска"})]})}),w="_head_o49l1_1",E={head:w},$="_head_1smfq_1",k="_card_1smfq_7",C="_footer_1smfq_14",S="_title_1smfq_18",A="_description_1smfq_25",F="_price_1smfq_32",I="_rating_1smfq_44",L="_currency_1smfq_56",P="_link_1smfq_75",r={head:$,card:k,footer:C,title:S,description:A,price:F,rating:I,currency:L,"add-to-cart":"_add-to-cart_1smfq_60",link:P},R=e=>s.jsx(x,{to:`/product/${e.id}`,className:r.link,children:s.jsxs("div",{className:r.card,children:[s.jsxs("div",{className:r.head,style:{backgroundImage:`url('${e.image}')`},children:[s.jsxs("div",{className:r.price,children:[e.price,s.jsx("span",{className:r.currency,children:" ₽"})]}),s.jsx("button",{className:r["add-to-cart"],children:s.jsx("img",{src:"/cart-button-icon.svg",alt:"Добавить в корзину"})}),s.jsxs("div",{className:r.rating,children:[e.rating," ",s.jsx("img",{src:"/star-icon.svg",alt:"Иконка звезды"})]})]}),s.jsxs("div",{className:r.footer,children:[s.jsx("div",{className:r.title,children:e.name}),s.jsx("div",{className:r.description,children:e.description})]})]})}),b="_wrapper_i1ij5_1",H={wrapper:b},M=({products:e})=>s.jsx("div",{className:H.wrapper,children:e.map(t=>s.jsx(R,{id:t.id,rating:t.rating,price:t.price,name:t.name,image:t.image,description:t.ingredients.join(", ")},t.id))});function es(){const[e,t]=c.useState([]),[n,i]=c.useState(!1),[o,_]=c.useState(),u=async()=>{i(!0);try{await new Promise(h=>{setTimeout(()=>{h()},2e3)});const{data:a}=await l.get(`${p}/products`);t(a)}catch(a){console.error(a),a instanceof g&&_(a.message);return}finally{i(!1)}};return c.useEffect(()=>{u()},[]),s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:E.head,children:[s.jsx(N,{children:"Меню"}),s.jsx(q,{placeholder:"Введите блюдо или состав"})]}),s.jsxs("div",{children:[!n&&s.jsx(M,{products:e}),n&&s.jsx(s.Fragment,{children:"Загружаем продукты..."}),o&&s.jsx(s.Fragment,{children:o})]})]})}export{es as Menu,es as default};
